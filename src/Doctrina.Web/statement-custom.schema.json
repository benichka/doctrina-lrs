{
  "$id": "Statement",
  "definitions": {
    "Agent": {
      "$id": "Agent",
      "title": "Agent",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "objectType": { "enum": [ "Agent" ] },
        "mbox": { "type": "string" },
        "mbox_sha1sum": { "type": "string" },
        "account": { "type": "object" },
        "openid": { "type": "string" }
      },
      "allOf": [ { "$ref": "#/definitions/InverseFunctionalIdentifier" } ]
    },
    "InverseFunctionalIdentifier": {
      "$id": "InverseFunctionalIdentifier",
      "oneOf": [
        { "$ref": "#/definitions/MboxIdentity" },
        { "$ref": "#/definitions/MboxSHA1SumIdentity" },
        { "$ref": "#/definitions/OpenIdIdentity" },
        { "$ref": "#/definitions/AccountIdentity" }
      ]
    },
    "MboxIdentity": {
      "$id": "MboxIdentity",
      "type": "object",
      "properties": {
        "mbox": {
          "type": "string",
          "format": "mbox"
        },
        "mbox_sha1sum": { "type": "null" },
        "openid": { "type": "null" },
        "account": { "type": "null" }
      },
      "required": [ "mbox_sha1sum" ]
    },
    "MboxSHA1SumIdentity": {
      "$id": "MboxSHA1SumIdentity",
      "type": "object",
      "properties": {
        "mbox_sha1sum": {
          "$id": "#mbox_sha1sum!core",
          "type": "object",
          "format": "sha1"
        },
        "mbox": { "type": "null" },
        "openid": { "type": "null" },
        "account": { "type": "null" }
      },
      "required": [ "mbox_sha1sum" ]
    },
    "OpenIdIdentity": {
      "$id": "OpenIdIdentity",
      "type": "object",
      "properties": {
        "openid": {
          "$id": "#openid!core",
          "type": "object",
          "format": "iri"
        },
        "mbox": { "type": "null" },
        "mbox_sha1sum": { "type": "null" },
        "account": { "type": "null" }
      },
      "required": [ "openid" ]
    },
    "AccountIdentity": {
      "$id": "AccountIdentity",
      "type": "object",
      "properties": {
        "account": {
          "$id": "#account!core",
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "homePage": {
              "type": "string",
              "format": "iri"
            },
            "home": { "type": "string" },
            "name": { "type": "string" }
          },
          "required": [ "homePage", "name" ]
        },
        "mbox": { "type": "null" },
        "mbox_sha1sum": { "type": "null" },
        "openid": { "type": "null" }
      },
      "required": [ "account" ]
    }
  },
  "additionalProperties": false,
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid"
    },
    "actor": { "$ref": "#/definitions/Agent" }
  }
}